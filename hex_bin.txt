 # Create .hex

add_custom_command(TARGET ${CMAKE_PROJECT_NAME} POST_BUILD

    COMMAND ${CMAKE_OBJCOPY} -O ihex $<TARGET_FILE:${CMAKE_PROJECT_NAME}> ${CMAKE_PROJECT_NAME}.hex

    COMMENT "Creating HEX file: ${CMAKE_PROJECT_NAME}.hex"

)

  

# Create .bin

add_custom_command(TARGET ${CMAKE_PROJECT_NAME} POST_BUILD

    COMMAND ${CMAKE_OBJCOPY} -O binary $<TARGET_FILE:${CMAKE_PROJECT_NAME}> ${CMAKE_PROJECT_NAME}.bin

    COMMENT "Creating BIN file: ${CMAKE_PROJECT_NAME}.bin"

)